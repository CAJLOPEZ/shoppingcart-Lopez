(this.webpackJsonpshopreact=this.webpackJsonpshopreact||[]).push([[0],{35:function(e,t,c){},44:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),i=c(28),s=c.n(i),r=(c(35),c(5)),o=c(6),j=c.p+"static/media/cart.3d71ab1b.svg",l=c(1),d=function(e){return Object(l.jsx)("div",{children:Object(l.jsx)(r.b,{to:"/cart",children:Object(l.jsx)("img",{src:j})})})},b=(c(44),c.p+"static/media/logo.fc9ac513.png");function m(){return Object(l.jsx)("header",{children:Object(l.jsxs)("div",{className:"navStyle",children:[Object(l.jsxs)("div",{className:"ul",children:[Object(l.jsx)(r.c,{to:"/",className:"links-nav",children:Object(l.jsx)("img",{className:"logo",src:b})}),Object(l.jsx)(r.c,{to:"/categories",className:"links-nav",children:Object(l.jsx)("h2",{className:"nav-link",children:"Categorias"})})]}),Object(l.jsx)("div",{children:Object(l.jsx)(d,{})})]})})}var u=c(14),O=c(4),h=c(20),x=(c(25),h.a.initializeApp({apiKey:"AIzaSyC-k3xrK2WXLOyGMxkYS-GB17H1usTIO-8",authDomain:"ecommerce-react-lopez.firebaseapp.com",projectId:"ecommerce-react-lopez",storageBucket:"ecommerce-react-lopez.appspot.com",messagingSenderId:"989040829910",appId:"1:989040829910:web:7148910497b6771183b077"}));function f(){return h.a.firestore(x)}c(46);function p(e){var t=e.objetos;return Object(l.jsx)("div",{className:"item",children:t&&t.length?t.map((function(e){return Object(l.jsx)("div",{className:"cardItem-item",children:Object(l.jsxs)(r.b,{to:"/item/".concat(e.id),children:[Object(l.jsx)("img",{src:e.img,className:"img rotate-hor-center"}),Object(l.jsx)("h5",{className:"title-item",children:e.name}),Object(l.jsxs)("p",{className:"price-item",children:["$",e.price]})]})},e.id)})):Object(l.jsx)("div",{children:"LOADING..."})})}var v=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){f().collection("items").get().then((function(e){0===e.size&&console.log("No hay datos!"),a(e.docs.map((function(e){return Object(u.a)({id:e.id},e.data())})))})).catch((function(e){console.log("Ocurrio un error: ",e)}))}),[]),Object(l.jsx)("div",{children:Object(l.jsx)(p,{objetos:c})})},g=function(){return Object(l.jsx)("div",{children:Object(l.jsx)(v,{})})},N=function(){return Object(l.jsx)(g,{})},y=a.a.createContext(),C=function(e){var t=Object(n.useState)([]),c=Object(O.a)(t,2),a=c[0],i=c[1];return Object(l.jsx)(y.Provider,{value:[a,i],children:e.children})};c(47);function S(e){var t=e.total,c=Object(n.useContext)(y),a=Object(O.a)(c,2),i=a[0],s=a[1];return Object(l.jsx)("div",{className:"cartPageStyle",children:i&&i.length?Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{className:"title-item-detail",children:" Detalle "}),Object(l.jsxs)("div",{children:[i.map((function(e){return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{children:"Item :"})," ",e.name]}),Object(l.jsx)("div",{children:Object(l.jsxs)("strong",{children:[Object(l.jsx)("span",{children:"Precio :"})," ",e.price]})}),Object(l.jsx)("div",{children:Object(l.jsxs)("strong",{children:[Object(l.jsx)("span",{children:"Cantidad :"})," ",e.qty]})}),Object(l.jsx)("br",{})]})})),Object(l.jsx)("div",{children:Object(l.jsxs)("strong",{children:[Object(l.jsx)("span",{children:"Total :"})," ",t]})})]}),Object(l.jsxs)("div",{className:"",children:[Object(l.jsx)(r.b,{to:"/",children:Object(l.jsx)("button",{className:"btn-detail-card",children:" ir a Home"})}),Object(l.jsx)(r.b,{to:"/checkout/",children:Object(l.jsx)("button",{className:"btn-detail-card links-card",children:" Comprar"})}),Object(l.jsx)(r.b,{to:"/",children:Object(l.jsx)("button",{className:"btn-detail-card",onClick:function(){return s([])},children:" Vaciar carrito"})})]})]}):Object(l.jsxs)("div",{className:"noItems",children:[Object(l.jsx)("h2",{className:"textNoItems",children:"Carrito vacio"}),Object(l.jsx)(r.b,{to:"/",className:"links-bottom",children:Object(l.jsx)("button",{className:"btn-detail",children:"ir a Home"})})]})})}function k(){var e=Object(n.useContext)(y),t=Object(O.a)(e,1)[0],c=Object(n.useState)(0),a=Object(O.a)(c,2),i=a[0],s=a[1];return Object(n.useEffect)((function(){t&&t.map((function(e){return s((function(t){return t+e.price*e.qty}))}))}),[t]),Object(l.jsx)("div",{children:Object(l.jsx)(S,{total:i})})}var I=c(30);c(48);function w(e){var t=e.contador,c=e.onAdd;return Object(l.jsxs)("div",{className:"count container",children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return c("-")},children:" - "}),Object(l.jsx)("div",{children:t}),Object(l.jsx)("button",{className:"btn",onClick:function(){return c("+")},children:" + "})]})}function E(e){var t=e.min,c=e.max,n=e.setContador,a=e.contador;return Object(l.jsx)(w,{contador:a,onAdd:function(e){"+"===e&&a<c?n(a+1):"-"===e&&a>t&&n(a-1)}})}c(49);function q(e){var t=e.item,c=e.loading,n=e.contador,a=e.setContador,i=e.buyHandle;return c?Object(l.jsx)("div",{children:"Loading..."}):Object(l.jsxs)("div",{children:[Object(l.jsx)("h4",{className:"title-item-detail",children:"Detalles del Producto"}),Object(l.jsxs)("div",{className:"flex-detail",bg:"secondary",text:"white",style:{height:"350px"},children:[Object(l.jsxs)("div",{className:"description-name-button-detail",children:[Object(l.jsx)("h3",{className:"h3-size margin-bottom",children:t.name}),Object(l.jsxs)("p",{className:"text-start",children:[" ",t.description]}),Object(l.jsxs)("p",{className:"text-start margin-bottom",children:[" ","Lorem ipsum dolor sit amet consectetur adipisicing elit. Iusto magni voluptatibus praesentium dolore aut quaerat magnam, ea obcaecati aliquam eius omnis accusantium, voluptatem maxime, et impedit dignissimos itaque quisquam tempore."," "]}),Object(l.jsxs)("p",{className:"price-detail",children:["$",t.price]}),Object(l.jsxs)("p",{className:"text-start margin-bottom",children:[t.stock," en Stock!"]}),Object(l.jsx)("div",{className:"contadorItem",children:Object(l.jsx)(E,{className:"width-200px",min:0,max:t.stock,contador:n,setContador:a,children:"Agregar"})}),n>0?Object(l.jsx)("div",{children:Object(l.jsx)(r.b,{to:"/cart/",children:Object(l.jsxs)("button",{className:"btn-detail",onClick:i,children:["Comprar ",n]})})}):Object(l.jsx)("div",{children:Object(l.jsx)("button",{className:"btn-detail",onClick:function(){return a(n+1)},children:"Agregar"})})]}),Object(l.jsx)("div",{className:"title-img-detail",children:Object(l.jsx)("img",{src:t.img,className:"img-detail"})})]})]})}var A=function(){var e=Object(o.f)().id,t=Object(n.useState)(),c=Object(O.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)(!0),r=Object(O.a)(s,2),j=r[0],d=r[1],b=Object(n.useState)(0),m=Object(O.a)(b,2),h=m[0],x=m[1],p=Object(n.useContext)(y),v=Object(O.a)(p,2),g=v[0],N=v[1],C=Object(n.useState)(!1),S=Object(O.a)(C,2),k=S[0],w=S[1];Object(n.useEffect)((function(){d(!0),f().collection("items").doc(e).get().then((function(e){if(!e.exists)return console.log("El doc no existe"),!0;e.data();i(Object(u.a)({id:e.id},e.data()))})).catch((function(e){console.log("Ocurrio un error",e)})).finally((function(){d(!1)}))}),[e]);return Object(l.jsx)(l.Fragment,{children:k?Object(l.jsx)("div",{children:"Loading..."}):Object(l.jsx)(q,{loading:j,item:a,setContador:x,contador:h,buyHandle:function(){var e=!1;if(g&&g.map((function(t){t.id===a.id&&(e=!0)})),e)w(!0);else{var t=Object(u.a)({qty:h},a);N((function(e){return[].concat(Object(I.a)(e),[t])}))}}})})};c(50);function z(e){var t=e.list;return Object(l.jsx)("div",{className:"categoryStyles margin-bootom-category-200px",children:t&&t.categories&&t.categories.map((function(e,t){return Object(l.jsx)(r.b,{to:"/categories/".concat(e.id),children:Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"category-item",children:[Object(l.jsx)("div",{className:"title-item-category margin-bottom-category",style:{textTransform:"uppercase"},children:e.name}),Object(l.jsx)("div",{className:"subtitle-category"}),Object(l.jsxs)("p",{className:"color-violet",children:["Ver ",e.name]})]})},t)})}))})}var D=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){var e=f().collection("categories").get(),t={};e.then((function(e){e.docs.map((function(e){var c=e.ref.parent.id;t[c]=[]})),e.docs.map((function(e){var c=e.ref.parent.id;t[c].push(Object(u.a)({id:e.id,items:[],parent:c},e.data()))})),a(t)}))}),[]),Object(l.jsx)(z,{list:c})};c(51);function L(){var e=Object(n.useContext)(y),t=Object(O.a)(e,1)[0],c=Object(n.useState)(""),a=Object(O.a)(c,2),i=a[0],s=a[1],r=Object(n.useState)(""),o=Object(O.a)(r,2),j=o[0],d=o[1],b=Object(n.useState)(0),m=Object(O.a)(b,2),u=m[0],x=m[1],p=Object(n.useState)(""),v=Object(O.a)(p,2),g=v[0],N=v[1],C=Object(n.useState)(""),S=Object(O.a)(C,2),k=S[0],I=S[1],w=Object(n.useState)({}),E=Object(O.a)(w,2),q=E[0],A=E[1],z=f().collection("orders");Object(n.useEffect)((function(){t&&t.map((function(e){return x((function(t){return t+e.price*e.qty}))}))}),[t]),Object(n.useEffect)((function(){q.items&&(console.log("in"),console.log("order.items",q.items),z.add(q).then((function(e){return s(e.id)})).catch((function(e){return console.log("err",e)})))}),[q]);return Object(l.jsxs)("div",{className:"orderForm",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Dejanos tus datos y confirma tu compra"}),Object(l.jsxs)("div",{className:"form-group d-flex",children:[Object(l.jsx)("label",{className:"text-start",children:"nombre"}),Object(l.jsx)("input",{type:"text",name:"name",value:j,onChange:function(e){d(e.target.value)},placeholder:"Nombre y Apellido"})]}),Object(l.jsxs)("div",{className:"form-group d-flex",children:[Object(l.jsx)("label",{className:"text-start",children:"email"}),Object(l.jsx)("input",{type:"email",name:"email",value:g,onChange:function(e){N(e.target.value)},placeholder:"mail@ejemplo.com"})]}),Object(l.jsxs)("div",{className:"form-group d-flex",children:[Object(l.jsx)("label",{className:"text-start",children:" confirma tu email"}),Object(l.jsx)("input",{type:"email",name:"conEmail",value:k,onChange:function(e){I(e.target.value)},placeholder:"mail@ejemplo.com"})]})]}),Object(l.jsx)("div",{}),Object(l.jsx)("button",{onClick:function(){var e={buyer:{name:j,email:g,conEmail:k},items:t,date:h.a.firestore.Timestamp.fromDate(new Date),total:u};console.log("items",t),console.log("items.length",t.length),t.length&&A(e)},className:"btn-detail-out",children:"comprar"}),i&&Object(l.jsxs)("h2",{children:["El codigo de tu orden es: ",i," ",Object(l.jsx)("hr",{})," Gracias por tu compra! Te enviaremos un e-mail con el detalle de tu orden!"]})]})}c(52);function H(e){var t=e.items,c=e.loading;return Object(l.jsx)("div",{className:"item",children:c?Object(l.jsx)("div",{children:" Loading--"}):t&&t.map((function(e){return Object(l.jsx)("div",{className:"cardItem-item",children:Object(l.jsxs)(r.b,{to:"/item/".concat(e.id),children:[Object(l.jsx)("img",{src:e.img,className:"img rotate-hor-center"}),Object(l.jsx)("h5",{className:"title-item",children:e.name}),Object(l.jsxs)("p",{className:"price-item",children:["$",e.price]})]})},e.id)}))})}var T=function(){var e=Object(o.f)().id,t=Object(n.useState)(),c=Object(O.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)(!0),r=Object(O.a)(s,2),j=r[0],d=r[1];return console.log("id",e),Object(n.useEffect)((function(){f().collection("items").where("categoryId","==",e).get().then((function(e){0===e.size&&console.log("No data!");var t=e.docs.map((function(e){return Object(u.a)({id:e.id},e.data())}));i(t)})),d(!1)}),[e]),Object(l.jsx)(H,{loading:j,items:a})};c(53);var B=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(C,{children:Object(l.jsxs)(r.a,{children:[Object(l.jsx)(m,{}),Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/checkout/",render:function(){return Object(l.jsx)(L,{})}}),Object(l.jsx)(o.a,{path:"/item/:id",component:A}),Object(l.jsx)(o.a,{exact:!0,path:"/categories/:id",component:T}),Object(l.jsx)(o.a,{path:"/categories/",component:D}),Object(l.jsx)(o.a,{path:"/cart/",render:function(){return Object(l.jsx)(k,{})}}),Object(l.jsx)(o.a,{path:"/",render:function(){return Object(l.jsx)(N,{})}})]})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(B,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.ae733104.chunk.js.map